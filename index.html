<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HAPPY BANK 11.0 - Direct AD Click</title>
    <style>
        :root { --primary: #0054FF; --bg: #F0F3F7; --card: #FFFFFF; --gold: #FFD700; }
        body, html { margin: 0; padding: 0; background: var(--bg); font-family: sans-serif; }
        .app { max-width: 500px; margin: 0 auto; min-height: 100vh; padding: 20px; box-sizing: border-box; }
        .card { background: var(--card); border-radius: 20px; padding: 20px; box-shadow: 0 8px 20px rgba(0,0,0,0.05); margin-bottom: 15px; }
        .btn { width: 100%; padding: 15px; border-radius: 12px; border: none; font-weight: bold; cursor: pointer; margin-bottom: 10px; }
        .btn-primary { background: var(--primary); color: white; }
        
        /* ğŸ“¢ í•˜ë‹¨ ê´‘ê³  í´ë¦­ ë ˆì´ì–´ */
        #ad-click-zone { 
            position: fixed; bottom: 0; left: 0; width: 100%; height: 100px; 
            background: white; border-top: 1px solid #ddd; z-index: 9999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .ad-overlay { 
            position: absolute; top: 35px; left: 0; width: 100%; height: 65px; 
            background: rgba(255,255,255,0); z-index: 10000; cursor: pointer; 
        }
        .ad-hint { font-size: 11px; color: #666; margin-bottom: 5px; font-weight: bold; }
        
        .screen { display: none; }
        .screen.active { display: block; }
    </style>
</head>
<body onclick="initAudio()">

<div class="app">
    <div id="scr-main" class="screen active">
        <h2 style="color: var(--primary);">HAPPY BANK ğŸ¦</h2>
        <div class="card" style="background: #1A1F27; color: white;">
            <p style="margin:0; opacity:0.7;">í˜„ì¬ í¬ì¸íŠ¸</p>
            <h1 id="main-p" style="font-size: 32px; margin: 10px 0; color: var(--gold);">0 P</h1>
        </div>

        <h3 style="margin-top:20px;">ì•Œë¦¬ ìµìŠ¤í”„ë ˆìŠ¤ ê¿€í…œ ìƒì </h3>
        <div id="shop-list"></div>
    </div>
</div>

<div id="ad-click-zone">
    <div class="ad-hint" id="ad-msg">ğŸ‘‡ ì•„ë˜ ê´‘ê³ ë¥¼ ëˆ„ë¥´ë©´ 1,000P ì¦‰ì‹œ ì§€ê¸‰!</div>
    <div class="ad-overlay" onclick="handleAdClick()"></div>
    
    <iframe data-aa='2425929' src='//acceptable.a-ads.com/2425929/?size=320x50' 
            style='border:0; padding:0; width:320px; height:50px; overflow:hidden;'></iframe>
</div>

<script>
    let db = JSON.parse(localStorage.getItem('hb_v11')) || { 
        p: 0, 
        lastAd: 0,
        shop: [
            {name: "ğŸ”¥ [ì•Œë¦¬] 1,500ì› ë¬´ì„ ë§ˆìš°ìŠ¤", price: 500, link: "https://s.click.aliexpress.com/e/_your_id1"},
            {name: "ğŸ§ [ì•Œë¦¬] ê°€ì„±ë¹„ ë¸”ë£¨íˆ¬ìŠ¤ ì´ì–´í°", price: 1000, link: "https://s.click.aliexpress.com/e/_your_id2"}
        ]
    };

    function save() { localStorage.setItem('hb_v11', JSON.stringify(db)); render(); }

    function render() {
        document.getElementById('main-p').innerText = db.p.toLocaleString() + " P";
        const sl = document.getElementById('shop-list');
        sl.innerHTML = db.shop.map((item, idx) => `
            <div class="card" style="display:flex; justify-content:space-between; align-items:center;">
                <div><b>${item.name}</b><p style="margin:5px 0 0; font-size:12px; color:var(--primary);">${item.price}P</p></div>
                <button class="btn-primary" style="width:auto; padding:8px 15px;" onclick="buy(${idx})">ë§í¬ì—´ê¸°</button>
            </div>
        `).join('');
    }

    // ğŸ’° ê´‘ê³  ì§ì ‘ í´ë¦­ ì²˜ë¦¬
    function handleAdClick() {
        const now = Date.now();
        const cooldown = 30 * 1000; // 30ì´ˆ ì¿¨íƒ€ì„

        if (now - db.lastAd < cooldown) {
            const remain = Math.ceil((cooldown - (now - db.lastAd)) / 1000);
            alert(`ë„ˆë¬´ ìì£¼ ëˆ„ë¥´ì…¨ì–´ìš”! ${remain}ì´ˆ í›„ì— ë‹¤ì‹œ ê°€ëŠ¥í•©ë‹ˆë‹¤.`);
            return;
        }

        // ë³´ìƒ ì§€ê¸‰
        db.p += 1000;
        db.lastAd = now;
        save();
        
        speak("ì²œ í¬ì¸íŠ¸ê°€ ì§€ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤. ê´‘ê³  í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.");
        
        // ì‹¤ì œ ê´‘ê³  í˜ì´ì§€ë¡œ ìœ ë„ (A-ADS í´ë¦­ ë°œìƒ)
        // íˆ¬ëª… ë§‰ ë’¤ì˜ iframeì„ í´ë¦­í•˜ê²Œ í•˜ëŠ” ê²ƒì€ ì–´ë ¤ìš°ë¯€ë¡œ, 
        // í´ë¦­ ì‹œ ê´‘ê³  í˜ì´ì§€ê°€ ìƒˆ ì°½ìœ¼ë¡œ ì—´ë¦¬ë„ë¡ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì¢‹ìŠµë‹ˆë‹¤.
        window.open("https://acceptable.a-ads.com/2425929/", "_blank"); 
        
        document.getElementById('ad-msg').innerText = "âœ… ì ë¦½ ì™„ë£Œ! 30ì´ˆ í›„ ë‹¤ì‹œ ê°€ëŠ¥";
        setTimeout(() => {
            document.getElementById('ad-msg').innerText = "ğŸ‘‡ ì•„ë˜ ê´‘ê³ ë¥¼ ëˆ„ë¥´ë©´ 1,000P ì¦‰ì‹œ ì§€ê¸‰!";
        }, cooldown);
    }

    function buy(idx) {
        const item = db.shop[idx];
        if(db.p < item.price) return alert("ê´‘ê³ ë¥¼ í´ë¦­í•´ì„œ í¬ì¸íŠ¸ë¥¼ ëª¨ìœ¼ì„¸ìš”!");
        if(confirm(`[${item.name}] ë§í¬ë¥¼ ì—¬ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
            db.p -= item.price;
            save();
            window.open(item.link, '_blank');
        }
    }

    function speak(t) { window.speechSynthesis.cancel(); const m = new SpeechSynthesisUtterance(t); m.lang='ko-KR'; window.speechSynthesis.speak(m); }
    function initAudio() {}

    render();
</script>
</body>
</html>
